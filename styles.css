:root { color-scheme: dark; }
html, body { margin: 0; height: 100%; background: #0f1225; overflow: hidden; }
#gameCanvas { display: block; touch-action: none; }

#ui { position: fixed; inset: 0; padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left); pointer-events: none; }
#joystick { position: absolute; left: 16px; bottom: 16px; width: clamp(90px, 18vw, 140px); height: clamp(90px, 18vw, 140px); border-radius: 50%; background: rgba(255,255,255,0.05); box-shadow: 0 0 0 2px rgba(255,255,255,0.08) inset; pointer-events: auto; touch-action: none; backdrop-filter: blur(4px); }
#stick { position: absolute; left: 50%; top: 50%; width: 42%; height: 42%; transform: translate(-50%, -50%); border-radius: 50%; background: rgba(255,255,255,0.18); box-shadow: 0 2px 8px rgba(0,0,0,0.3); }

@media (pointer: fine) {
  #joystick { display: none; }
}

/* 进化弹窗样式 */
.overlay { position: fixed; inset: 0; display: grid; place-items: center; background: rgba(0,0,0,0.45); z-index: 10; }
.overlay.hidden { display: none; }
.overlay .panel { width: min(92vw, 420px); background: rgba(20,24,40,0.9); border-radius: 12px; padding: 16px; box-shadow: 0 8px 32px rgba(0,0,0,0.5); text-align: center; color: #fff; }
.overlay h2 { margin: 8px 0 12px; font: 600 18px system-ui; }
#evoPreview { width: 100%; height: auto; background: rgba(255,255,255,0.04); border-radius: 8px; margin-bottom: 12px; }
#evoDesc { font: 14px system-ui; opacity: 0.9; margin-bottom: 12px; }
#evoConfirm { appearance: none; border: none; border-radius: 8px; padding: 10px 16px; font: 600 14px system-ui; color: #0f1225; background: #ffd54f; box-shadow: 0 2px 8px rgba(0,0,0,0.3); cursor: pointer; }